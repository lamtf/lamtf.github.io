<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4 - Architecture Design | LAMTF</title>
    <meta name="description" content="Layered Agile Model Transformation Framework">
    
    
    <link rel="preload" href="/assets/css/0.styles.68be1f38.css" as="style"><link rel="preload" href="/assets/js/app.fb5580e3.js" as="script"><link rel="preload" href="/assets/js/20.36aff208.js" as="script"><link rel="prefetch" href="/assets/js/10.b5e41f15.js"><link rel="prefetch" href="/assets/js/11.125bb98c.js"><link rel="prefetch" href="/assets/js/12.7de080b1.js"><link rel="prefetch" href="/assets/js/13.b436da3f.js"><link rel="prefetch" href="/assets/js/14.90256b3c.js"><link rel="prefetch" href="/assets/js/15.f2e07fe6.js"><link rel="prefetch" href="/assets/js/16.ef8c7fba.js"><link rel="prefetch" href="/assets/js/17.c92e086c.js"><link rel="prefetch" href="/assets/js/18.8a4d3a1c.js"><link rel="prefetch" href="/assets/js/19.24023f1a.js"><link rel="prefetch" href="/assets/js/2.20d0b930.js"><link rel="prefetch" href="/assets/js/21.f879bc9b.js"><link rel="prefetch" href="/assets/js/22.99292bd6.js"><link rel="prefetch" href="/assets/js/23.e10a2c68.js"><link rel="prefetch" href="/assets/js/24.620ccc75.js"><link rel="prefetch" href="/assets/js/25.43e9a132.js"><link rel="prefetch" href="/assets/js/26.fa1b7b79.js"><link rel="prefetch" href="/assets/js/27.65140f2e.js"><link rel="prefetch" href="/assets/js/3.1589998c.js"><link rel="prefetch" href="/assets/js/4.7ec01f50.js"><link rel="prefetch" href="/assets/js/5.2eb541bf.js"><link rel="prefetch" href="/assets/js/6.4648a1af.js"><link rel="prefetch" href="/assets/js/7.53eba8af.js"><link rel="prefetch" href="/assets/js/8.5797b5bd.js"><link rel="prefetch" href="/assets/js/9.a1e0fbf9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.68be1f38.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LAMTF</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/the-framework/10-intro/" class="nav-link">The Framework</a></div><div class="nav-item"><a href="/profiles/" class="nav-link">Profiles</a></div><div class="nav-item"><a href="/samples/" class="nav-link">Samples</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/the-framework/10-intro/" class="nav-link">The Framework</a></div><div class="nav-item"><a href="/profiles/" class="nav-link">Profiles</a></div><div class="nav-item"><a href="/samples/" class="nav-link">Samples</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>The Framework</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/the-framework/00-warnings/" class="sidebar-link">0.0 - Warnings</a></li><li><a href="/the-framework/01-glosary/" class="sidebar-link">{#} Glosary</a></li><li><a href="/the-framework/10-intro/" class="sidebar-link">1 - Introduction</a></li><li><a href="/the-framework/20-related-works/" class="sidebar-link">2 - Related Works</a></li><li><a href="/the-framework/30-why-agile/" class="sidebar-link">3 - Why Agile</a></li><li><a href="/the-framework/40-architecture-design/" class="active sidebar-link">4 - Architecture Design</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-framework/40-architecture-design/#_4-1-the-framework-architecture-mof-m2t-old-version" class="sidebar-link">4.1 - The Framework Architecture MOF-M2T (old version)</a></li><li class="sidebar-sub-header"><a href="/the-framework/40-architecture-design/#_4-2-the-framework-architecture-coffeescript-new-version" class="sidebar-link">4.2 - The Framework Architecture CoffeeScript (new version)</a></li><li class="sidebar-sub-header"><a href="/the-framework/40-architecture-design/#_4-3-the-target-architecture-for-android" class="sidebar-link">4.3 - The Target Architecture For Android</a></li></ul></li><li><a href="/the-framework/50-process-definition/" class="sidebar-link">5 - The Process Definition</a></li><li><a href="/the-framework/60-code-refactoring/" class="sidebar-link">6 - Code Refactoring</a></li><li><a href="/the-framework/70-testing/" class="sidebar-link">7 - Testing</a></li><li><a href="/the-framework/80-final-considerations/" class="sidebar-link">8 - Final Considerations</a></li><li><a href="/the-framework/90-references/" class="sidebar-link">9 - References</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Profiles</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Samples &amp; Practical Results</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="_4-architecture-design"><a href="#_4-architecture-design" aria-hidden="true" class="header-anchor">#</a> 4 - Architecture Design</h1> <h2 id="_4-1-the-framework-architecture-mof-m2t-old-version"><a href="#_4-1-the-framework-architecture-mof-m2t-old-version" aria-hidden="true" class="header-anchor">#</a> 4.1 - The Framework Architecture MOF-M2T (old version)</h2> <h2 id="_4-2-the-framework-architecture-coffeescript-new-version"><a href="#_4-2-the-framework-architecture-coffeescript-new-version" aria-hidden="true" class="header-anchor">#</a> 4.2 - The Framework Architecture CoffeeScript (new version)</h2> <h2 id="_4-3-the-target-architecture-for-android"><a href="#_4-3-the-target-architecture-for-android" aria-hidden="true" class="header-anchor">#</a> 4.3 - The Target Architecture For Android</h2> <div style="text-align:justify"><p>The generated code must not avoid from some architecture drawing, It is important to show how it fits to the given environment, and also to give hints about how to extend it. Being this way we are presenting to you the following Architecture Diagram, <a href="#figure-5-the-target-architecture">Figure 5</a>, so you can have a view of how the scope of the transformations. Also it can give an idea of the actual status of the project, since not everything is implemented or tested, for this purpose it will be used a check-list having everything item by item.
The <a href="#/NO-REF"><em>OfflineHelper</em></a> class is responsible for updating the remote database entity only, while the <a href="#/NO-REF"><em>BiDirectionalOfflineHelper</em></a> class must be able to update booth remote and local database entities, booth of this classes should used by the class <a href="#/NO-REF"><em>OfflineUpdater</em></a>, which must have all the updating helpers sorted according to the number of dependencies, e.g. tables with less dependencies come first according to the dependencies itself, e.g. if a table has foreign keys pointing to, it must cause effects to the database afterwards. Booth the  <a href="#/NO-REF"><em>OfflineHelper</em></a> classes need to have direct access to the database, so they will use an instance of <a href="#/NO-REF"><em>IDbHelper</em></a>.
The access to the database, by using database queries, is made through a <a href="#/NO-REF"><em>DirectDataSource&lt;T&gt;</em></a> or  <a href="#/NO-REF"><em>ContentDataSource&lt;T&gt;</em></a>. Booth must implement the interface <a href="#/NO-REF"><em>IdataSource&lt;T&gt;</em></a>, which for a given table “T” must inherit some of the following interfaces: <a href="#/NO-REF"><em>Icreate&lt;T&gt;</em></a>, <a href="#/NO-REF"><em>Iread&lt;T&gt;</em></a>, <a href="#/NO-REF"><em>Iupdate&lt;T&gt;</em></a>, <a href="#/NO-REF"><em>Idelete&lt;T&gt;</em></a>, <a href="#/NO-REF"><em>Iquery&lt;T&gt;</em></a>, <a href="#/NO-REF"><em>Icustom&lt;T&gt;</em></a>.
The interface <a href="#/NO-REF"><em>Iquery&lt;T&gt;</em></a> can be generated automatically by this framework, It’s about custom queries which may select from a given set of columns from various tables (here called as view) from different tables, given that a set of columns from various tables have a given set if values (which is also called view in this work), It would be possible as well to make insertions and updates in the views as well. So basically all the functions from <a href="#/NO-REF"><em>Iquery</em></a> must accept a view as parameter and return a view as result. Its is a little bit more complicated than what we know as CRUD.
The interface <a href="#/NO-REF"><em>Icustom&lt;T&gt;</em></a> should be generated by the user, to cover all the cases where automatically generated code cannot do, like if there is some very complex query. Once it is inherited by <a href="#/NO-REF"><em>IdataSource&lt;T&gt;</em></a>, this would be able to grant that booth, the <a href="#/NO-REF"><em>ContentDataSource&lt;T&gt;</em></a> and the <a href="#/NO-REF"><em>ContentProvider&lt;T&gt;</em></a> classes have almost the same signature. The content provider is supposed to return instances of the class Cursor while the <a href="#/NO-REF"><em>ContentDataSource&lt;T&gt;</em></a> must return the classes which represent the tables itself. Each table must be accessed by a kind of DataSource and the <a href="#/NO-REF"><em>ContentDataSource&lt;T&gt;</em></a> and  <a href="#/NO-REF"><em>DirectDataSource&lt;T&gt;</em></a> mustn’t be used for the same table in the same project. It is up to the programmer to decide when/how which one he/she wants to use one of these options for a given table.
The Behavior component loads the various <a href="#/NO-REF"><em>ContentDataSources</em></a> to have access to the database. The Form, List, or Dialog Components are called from the Behavior as well, from it’s state-machines, The Page, which may call each behavior, will have a Menu component from which it can  get the various routes.  Forms must be composed of various kinds of inputs, or even outputs, the lists would probably have only outputs. A page would be implemented as an Activity or even a Web Page. It also cold be implemented as a Controller component from a MVC (Model View Controller) architecture form any generic MVC Framework.</p></div> <hr> <h5 id="figure-5-the-target-architecture"><a href="#figure-5-the-target-architecture" aria-hidden="true" class="header-anchor">#</a> Figure 5: The Target Architecture</h5> <p><a href="/image/architecture-design.png"><img src="/image/architecture-design.png" alt="The target Architecture"></a></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/the-framework/30-why-agile/" class="prev">
          3 - Why Agile
        </a></span> <span class="next"><a href="/the-framework/50-process-definition/">
          5 - The Process Definition
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.fb5580e3.js" defer></script><script src="/assets/js/20.36aff208.js" defer></script>
  </body>
</html>
